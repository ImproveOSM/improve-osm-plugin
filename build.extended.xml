<project name="improveosm-plugin.extended">

	<import file="build.xml" />

	<property name="dir.setup" value="${basedir}/setup" />

	<target name="multidist">
		<property name="dir.multidist" value="${dir.setup}/tools/MultiDist" />
		<taskdef name="multidist" classname="com.skobbler.tools.multidist.Engine" classpath="${dir.multidist}/MultiDist.jar" />
		<multidist targetDir="${plugin.dist.dir}" configFile="${dir.multidist}/multidist.xml" />
	</target>

	<target name="make">
		<echo message="compile with JOSM latest library" />
		<antcall target="dist">
			<param name="plugin.dist.dir" value="${plugin.dist.dir}/latest" />
			<param name="JOSM_lib" value="josm-latest.jar" />
		</antcall>
		<antcall target="multidist">
			<param name="plugin.dist.dir" value="${plugin.dist.dir}/latest" />
		</antcall>


		<echo message="compile with JOSM tested library" />
		<antcall target="dist">
			<param name="plugin.dist.dir" value="${plugin.dist.dir}/tested" />
			<param name="JOSM_lib" value="josm-tested.jar" />
		</antcall>
		<antcall target="multidist">
			<param name="plugin.dist.dir" value="${plugin.dist.dir}/tested" />
		</antcall>
	</target>
</project>